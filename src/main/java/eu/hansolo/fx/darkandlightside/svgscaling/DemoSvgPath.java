/*
 * Copyright (c) 2016 by Gerrit Grunwald
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package eu.hansolo.fx.darkandlightside.svgscaling;

import javafx.application.Application;
import javafx.geometry.Insets;
import javafx.scene.Node;
import javafx.scene.shape.SVGPath;
import javafx.stage.Stage;
import javafx.scene.layout.StackPane;
import javafx.scene.Scene;


/**
 * User: hansolo
 * Date: 05.07.16
 * Time: 14:22
 */
public class DemoSvgPath extends Application {
    private SVGPath svgPath;

    @Override public void init() {
        svgPath = new SVGPath();
        svgPath.setContent("M 150 69.922 C 144.215 69.922 138.506 70.252 132.889 70.883 L 132.889 204.088 L 167.111 204.088 L 167.111 70.889 C 161.496 70.257 155.785 69.922 150 69.922 ZM 291.05 110.764 L 295.147 127.105 L 288.068 127.105 L 286.02 110.764 L 291.05 110.764 ZM 283.884 110.764 L 285.932 127.105 L 275.783 127.105 L 277.832 110.764 L 283.884 110.764 ZM 275.691 110.764 L 273.647 127.105 L 266.568 127.105 L 270.665 110.764 L 275.691 110.764 ZM 293.031 108.335 L 268.819 108.335 L 262.161 137.214 L 262.009 149.983 L 187.841 206.211 L 199.966 225.373 L 300 170.023 L 300 137.214 L 293.031 108.335 ZM 285.562 183.984 L 203.163 229.452 L 277.689 222.597 C 277.983 222.572 278.277 222.597 278.559 222.669 L 282.386 223.648 L 298.04 218.4 C 295.264 206.308 291.029 194.78 285.562 183.984 ZM 196.227 53.259 C 201.741 53.259 206.212 57.732 206.212 63.246 C 206.212 68.761 201.741 73.232 196.227 73.232 C 190.714 73.232 186.243 68.761 186.243 63.246 C 186.243 57.732 190.714 53.259 196.227 53.259 ZM 214.657 90.118 C 220.171 90.118 224.641 94.589 224.641 100.105 C 224.641 105.618 220.171 110.091 214.657 110.091 C 209.143 110.091 204.668 105.618 204.668 100.105 C 204.668 94.589 209.143 90.118 214.657 90.118 ZM 183.459 0 L 170.749 0 L 170.749 13.315 L 167.99 17.55 L 167.99 62.339 L 170.749 62.339 L 174.383 67.786 L 174.383 102.592 C 173.664 102.477 172.944 102.372 172.225 102.266 L 172.225 206.645 C 172.225 207.957 171.237 209.025 169.963 209.172 C 178.58 213.874 185.347 221.529 188.943 230.756 L 196.863 230.029 L 182.264 206.96 C 181.554 205.835 181.823 204.357 182.883 203.553 L 257.72 146.856 L 257.694 145.466 C 255.503 143.262 253.266 141.107 250.94 139.039 L 183.459 0 ZM 103.06 53.259 C 108.573 53.259 113.044 57.732 113.044 63.246 C 113.044 68.761 108.573 73.232 103.06 73.232 C 97.544 73.232 93.073 68.761 93.073 63.246 C 93.073 57.732 97.544 53.259 103.06 53.259 ZM 84.63 90.118 C 90.146 90.118 94.617 94.589 94.617 100.105 C 94.617 105.618 90.146 110.091 84.63 110.091 C 79.114 110.091 74.644 105.618 74.644 100.105 C 74.644 94.589 79.114 90.118 84.63 90.118 ZM 127.571 0 L 114.861 0 L 46.04 141.798 C 24.57 161.963 8.962 188.295 2.057 217.971 L 17.414 223.594 L 21.02 222.669 C 21.304 222.597 21.596 222.572 21.889 222.597 L 111.042 230.798 C 114.636 221.55 121.411 213.879 130.037 209.172 C 128.765 209.025 127.775 207.957 127.775 206.645 L 127.775 102.26 C 126.49 102.449 125.211 102.647 123.939 102.868 L 123.939 67.786 L 127.571 62.339 L 130.332 62.339 L 130.332 17.55 L 127.571 13.315 L 127.571 0 ZM 21.767 227.732 L 5.219 231.875 L 5.219 259.973 L 22.129 265.416 L 22.429 265.516 L 108.948 256.087 C 108.125 252.82 107.684 249.404 107.684 245.888 C 107.684 242.389 108.138 238.999 108.952 235.748 L 104.305 235.319 L 21.767 227.732 ZM 277.718 227.732 L 195.18 235.319 L 190.533 235.748 C 191.345 238.999 191.803 242.389 191.803 245.888 C 191.803 249.404 191.361 252.82 190.537 256.087 L 277.053 265.516 L 277.356 265.416 L 294.267 259.973 L 294.267 231.875 L 277.718 227.732 ZM 150 220.789 C 157.749 220.789 164.053 227.089 164.053 234.84 C 164.053 242.587 157.749 248.891 150 248.891 C 142.253 248.891 135.949 242.587 135.949 234.84 C 135.949 227.089 142.253 220.789 150 220.789 ZM 150 209.202 C 129.772 209.202 113.313 225.659 113.313 245.888 C 113.313 266.118 129.772 282.575 150 282.575 C 170.228 282.575 186.689 266.118 186.689 245.888 C 186.689 225.659 170.228 209.202 150 209.202 ZM 111.044 261.012 L 22.538 270.656 C 22.446 270.669 22.354 270.673 22.261 270.673 C 21.996 270.673 21.731 270.631 21.479 270.551 L 18.429 269.571 L 0 276.569 C 5.087 308.55 20.158 337.204 41.914 359.237 L 43.942 345.809 C 44.032 345.207 44.339 344.652 44.802 344.252 L 122.488 277.322 C 117.469 272.919 113.509 267.338 111.044 261.012 ZM 188.939 261.059 C 186.31 267.779 181.991 273.655 176.511 278.167 L 253.215 344.252 C 253.678 344.652 253.981 345.207 254.073 345.808 L 256.357 360.945 C 279.039 338.692 294.781 309.391 300 276.578 L 281.183 269.558 L 278.101 270.551 C 277.848 270.631 277.583 270.673 277.318 270.673 C 277.226 270.673 277.133 270.669 277.041 270.656 L 188.939 261.059 ZM 124.648 291.836 C 131.617 291.836 137.267 297.489 137.267 304.458 C 137.267 311.427 131.617 317.079 124.648 317.079 C 117.677 317.079 112.026 311.427 112.026 304.458 C 112.026 297.489 117.677 291.836 124.648 291.836 ZM 175.645 291.836 C 182.618 291.836 188.266 297.489 188.266 304.458 C 188.266 311.427 182.618 317.079 175.645 317.079 C 168.676 317.079 163.027 311.427 163.027 304.458 C 163.027 297.489 168.676 291.836 175.645 291.836 ZM 150 297.724 C 156.971 297.724 162.619 303.377 162.619 310.346 C 162.619 317.315 156.971 322.967 150 322.967 C 143.029 322.967 137.381 317.315 137.381 310.346 C 137.381 303.377 143.029 297.724 150 297.724 ZM 111.978 319.737 C 118.947 319.737 124.599 325.385 124.599 332.354 C 124.599 339.327 118.947 344.976 111.978 344.976 C 105.007 344.976 99.357 339.327 99.356 332.354 C 99.357 325.385 105.007 319.737 111.978 319.737 ZM 186.474 319.737 C 193.443 319.737 199.096 325.385 199.096 332.354 C 199.096 339.327 193.443 344.976 186.474 344.976 C 179.501 344.976 173.853 339.327 173.853 332.354 C 173.853 325.385 179.501 319.737 186.474 319.737 ZM 150 327.926 C 156.971 327.926 162.619 333.578 162.619 340.547 C 162.619 347.516 156.971 353.169 150 353.169 C 143.029 353.169 137.381 347.516 137.381 340.547 C 137.381 333.578 143.029 327.926 150 327.926 ZM 126.624 280.51 L 48.858 347.508 L 45.74 368.175 C 56.584 377.579 96.909 409.134 149.684 409.134 C 201.59 409.134 241.006 379.236 252.475 369.487 L 249.157 347.508 L 172.25 281.25 C 165.803 285.322 158.174 287.689 150 287.689 C 141.345 287.689 133.299 285.036 126.624 280.51 Z");
    }

    @Override public void start(Stage stage) {
        StackPane pane = new StackPane(svgPath);
        pane.setPrefSize(450, 450);
        pane.setPadding(new Insets(20));

        Scene scene = new Scene(pane);

        stage.setTitle("Demo SVGPath");
        stage.setScene(scene);
        stage.show();

        // Complicated approach
        //svgPath.setScaleX(0.5);
        //svgPath.setScaleY(0.5);

        // Workaround
        //setPrefSize(svgPath, 150, 205);

        // Correct approach
        //svgPath.resize(150, 205);
    }

    private void setPrefSize(final Node NODE, final double TARGET_WIDTH, final double TARGET_HEIGHT) {
        NODE.setScaleX(TARGET_WIDTH / NODE.getLayoutBounds().getWidth());
        NODE.setScaleY(TARGET_HEIGHT / NODE.getLayoutBounds().getHeight());
    }

    @Override public void stop() {
        System.exit(0);
    }

    public static void main(String[] args) {
        launch(args);
    }
}
